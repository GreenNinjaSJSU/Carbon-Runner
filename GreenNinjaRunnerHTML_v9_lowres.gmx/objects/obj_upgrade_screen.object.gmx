<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>can_click = 1
selecting_upgrades = 0

time_between = 10
can_move = 1

button_sl = 0

upgrade_selected = -1
cicon_in = 0
cicon = -1
cicon_size = 0
    
pokidex_selected = -1
scroll_pos_draw = 0
scroll_sl = -1
scroll_pos = 0

pokidex_open = 0


/*
pokidex_list_items = 0

for ( i = 0 ; i &lt; global.pokidex_size ; i++)
    {
    if global.pokidex_found[i]
        {
        pokidex_list_id[pokidex_list_items] = i //pokidex_name[i]
        pokidex_list_items++
        }
    }

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>can_move = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>can_click = 1

if keyboard_check_pressed(ord("I"))
    {
    for(i=0 ; i &lt; global.pokidex_size ; i++)
        {
        global.pokidex_found[i] = 1
        }
    }
//1410,410

if keyboard_check_pressed(ord("M"))
    {
    global.carbon_cash += 10000
    //global.upgrade_water = 1
    //global.upgrade_sun = 1
    //global.upgrade_wind = 1
    }
scr_shorter_view_names()
if keyboard_check_pressed(vk_space)
    {
    score = 0
    room = rm_game
    }

scr_game_end()

if pokidex_open
    {
    draw_set_color(c_black)
    //draw_set_alpha(1)
    //draw_rectangle(0 ,0, room_width,room_height,0) //room_width / 2
    draw_set_alpha(1)
    draw_background(background8,0,0)
    if true //pokidex_selected = -1
        {
        if can_move
        {
        if global.jup_active[0] || global.jpov_up[0]
            {
            pokidex_selected--
            scroll_pos = (pokidex_selected - 3) * 128 
            can_move = 0
            alarm[0] = time_between
            audio_play_sound(snd_cursor_move,0,0)
            }
        if global.jdown_active[0] || global.jpov_down[0]
            {
            pokidex_selected++
            scroll_pos = (pokidex_selected - 3) * 128
            can_move = 0
            alarm[0] = time_between
            audio_play_sound(snd_cursor_move,0,0)
            }
        if can_move
            time_between = 5
        else
            if time_between &gt; 1
                time_between /= 2
        }
        if pokidex_selected &gt; global.pokidex_size - 1
            {
            pokidex_selected = global.pokidex_size - 1
            }
        if pokidex_selected &lt; 0
            {
            pokidex_selected = 0
            }
        
        if scroll_pos &gt; 0
        if mouse_wheel_up()
            scroll_pos -= 128
        //if scroll_pos &gt; 0
        if mouse_wheel_down()
        scroll_pos += 128
        
        if scroll_pos &gt; (max(global.pokidex_size - 7 , 1)) * 128 scroll_pos = (max(global.pokidex_size - 7 , 1)) * 128
        if scroll_pos &lt; 0 scroll_pos = 0
        
        scroll_pos_draw = adjust(scroll_pos_draw , scroll_pos)
        
        scroll_pos = scr_scrollbar_vertical_spr(spr_vertical_scroll_button,room_width/2 - 24,room_height/2,32,1000,
            scroll_pos,max(global.pokidex_size - 7 , 1)* 128,0,0)
        
        xleft = 100 //vxc + 100
        draw_set_color(c_white)
        
        draw_set_font(fnt_24)
        for(i=0 ; i &lt; global.pokidex_size ; i++)
            {
            if global.pokidex_found[i]
                {
                draw_set_color(c_yellow)
                draw_set_alpha(.1)
                draw_rectangle(xleft - 80 , 100 + i * 128 - scroll_pos_draw - 24 - 30 , xleft + 600 + 50 , 100 + i * 128 - scroll_pos_draw - 24 + 90,0)
                draw_set_alpha(1)
                }
            
            draw_set_color(c_dkgray)
            draw_set_alpha(.5)
            if pokidex_selected = i
            draw_rectangle(xleft - 80 , 100 + i * 128 - scroll_pos_draw - 24 - 30 , xleft + 600 + 50 , 100 + i * 128 - scroll_pos_draw - 24 + 90,0)
            draw_set_alpha(1)
            
            draw_set_color(c_white)    
                
            if inregion(mouse_x,mouse_y,xleft - 80 , 100 + i * 128 - scroll_pos_draw - 24 - 30 , xleft + 600 + 50 , 100 + i * 128 - scroll_pos_draw - 24 + 90,0)
                {
                draw_set_alpha(.1)
                
                if mouse_check_button(1)
                draw_set_color(c_gray)
                
                if mouse_check_button_released(1)
                    {
                    //if global.pokidex_found[i]
                    pokidex_selected = i
                    }
            
                draw_rectangle(xleft - 80 , 100 + i * 128 - scroll_pos_draw - 24 - 30 , xleft + 600 + 50 , 100 + i * 128 - scroll_pos_draw - 24 + 90,0)
                draw_set_alpha(1)
                }
            
            if global.pokidex_found[i]
                {
                tstr = global.pokidex_name[i]
                draw_sprite(global.pokidex_spr[i],0,xleft,100 + i * 128 - scroll_pos_draw) //spr_unknown_item
                }
            else
                {
                tstr = "Unknown Item"
                draw_sprite(spr_unknown_item,0,xleft,100 + i * 128 - scroll_pos_draw)
                }
            
            draw_set_halign(fa_left)
            draw_set_valign(fa_top)
            draw_set_color(c_white)
            
            // + "#" + global.pokidex_description[i]
            //if string_width(tstr) &gt; 550
            //tstr = global.pokidex_name[i] + "#" + string_copy(global.pokidex_description[i] , 1 , 40) + " [...]"
            
            draw_text(xleft + 100,100 + i * 128 - scroll_pos_draw - 24,tstr)
            }
        }
    if pokidex_selected &gt; -1
        {
        xleft = vxc + 100
        if global.pokidex_found[pokidex_selected]
        draw_sprite_ext(global.pokidex_spr[pokidex_selected] , 0, room_width / 4 * 3,room_height / 2 - 100 , 3 , 3 , 0,c_white,1)
        else
        draw_sprite_ext(spr_unknown_item , 0, room_width / 4 * 3,room_height / 2 - 100 , 3 , 3 , 0,c_white,1)
        
        draw_set_halign(fa_center)
        draw_set_valign(fa_top)
        draw_set_color(c_white)
        if global.pokidex_found[pokidex_selected]
            tstr = global.pokidex_name[pokidex_selected] + "#" + scr_paragraph_string(global.pokidex_description[pokidex_selected] , 550)
        else
            tstr = "Unknown Item#You haven't found this item yet.#Once you do, it's information will appear here."
        draw_text(room_width / 4 * 3,room_height / 2 + 70 ,tstr)
        /*
        if button(spr_button,xleft + 10,room_height - 110,320,96,"Back",-1,0,"")
            {
            pokidex_selected = -1
            }
        */
        }
    else
        {
        xleft = vxc + 100
        draw_sprite_ext(spr_unknown_item , 0, room_width / 4 * 3,room_height / 2 - 100 , 3 , 3 , 0,c_white,1)
        
        draw_set_halign(fa_center)
        draw_set_valign(fa_top)
        draw_set_color(c_white)
        
        tstr = scr_paragraph_string("Welcome to the Carbon Codex, the knowledge base for all in game items you find."
            +" Whenever you discover a new item, it will be added to this database. To view an item's information, click on it in the list to the left.",room_width / 3)
        draw_text(room_width / 4 * 3,room_height / 2 + 70 ,tstr)
        }
    
    if button_tab(spr_button,vx+vw-360,vy+vh-96-12,320,96,"Back",-1,0,"",button_sl,0)
         || global.jpressed[0,2]
        {
        audio_play_sound(snd_button_press,0,0)
        pokidex_open = !pokidex_open
        pokidex_selected = -1
        selecting_upgrades = 0
        }
    }
else
    {
    if global.jleft_pressed[0] || keyboard_check_pressed(vk_left)
        {
        if selecting_upgrades
        upgrade_selected--
        else
        button_sl--
        
        audio_play_sound(snd_cursor_move,0,0)
        }
    if global.jright_pressed[0] || keyboard_check_pressed(vk_right)
        {
        if selecting_upgrades
        upgrade_selected++
        else
        button_sl++
        
        audio_play_sound(snd_cursor_move,0,0)
        }
    
    if button_sl &lt; 0
        button_sl = 3
    if button_sl &gt; 3
        button_sl = 0
    
    if upgrade_selected &lt; 0
        upgrade_selected = 2
    if upgrade_selected &gt; 2
        upgrade_selected = 0
    
    if global.upgrade_wind &amp;&amp; global.upgrade_sun &amp;&amp; global.upgrade_water
        tstr = "Congratulations! You have purchased all the upgrades!"
    else
        tstr = "Congratulations! You made it to the upgrade screen!"
    
    draw_set_font(fnt_24)
    
    if !selecting_upgrades
    if button_tab(spr_button,vxc+12,vy+vh-96-12,240,96,"Carbon Codex",-1,0,"",button_sl,1)
     || (global.jpressed[0,1] &amp;&amp; button_sl = 1)
        {
        audio_play_sound(snd_button_press,0,0)
        pokidex_open = !pokidex_open
        pokidex_selected = -1
        button_sl = 0
        }
    if in
        tstr = "The carbon codex is the database of all good things and bad things you can find in the game."    
    
    //cicon_in = 0
    if !selecting_upgrades
        {
        if button_tab(spr_button_next_room,vx+vw-320-12,vy+vh-96-12,320,96,"Continue       ",-1,0,"",button_sl,3)
            || keyboard_check_pressed(vk_enter) || (global.jpressed[0,1] &amp;&amp; button_sl = 3)
            {
            audio_play_sound(snd_button_press,0,0)
            //global.level_speed = .8
            room = rm_game
            }
        }
    else
        {
        if button_tab(spr_button,vx+vw-320-12,vy+vh-96-12,320,96,"Back",-1,0,"",button_sl,0)
            || keyboard_check_pressed(vk_enter) || (global.jpressed[0,2])
            {
            audio_play_sound(snd_button_press,0,0)
            //global.level_speed = .8
            selecting_upgrades = 0
            }
        }
    
    ok = 1
    for(i=0 ; i &lt; global.pokidex_size ; i++)
        if !global.pokidex_found[i]
        ok = 0
    if global.upgrade_wind &amp;&amp; global.upgrade_water &amp;&amp; global.upgrade_sun
        {
        
        }
    else
        {
        ok = 0
        }
        
    if !ok
        tspr = spr_button_gray
    else
        tspr = spr_button
    
    if !selecting_upgrades
    if button_tab(tspr,vx+vw-340-12 - 340,vy+vh-96-12,340,96,"Super Ninja Quiz",-1,0,"",button_sl,2)
        || (global.jpressed[0,1] &amp;&amp; button_sl = 2)
        {
        audio_play_sound(snd_button_press,0,0)
        if ok
            room = rm_super_quiz
        //else
        //show_message("You must find all the items before you can take the test.")
        }
    
    if in
        {
        tstr = "Super Ninja Quiz - Discover all Carbon Codex items to unlock this quiz! If you pass the quiz, you will be rewarded with the ultimate green ninja upgrade."
        }
    
    in = 0
    upgrade_cost = 500
    
    if global.upgrade_sun
        upgrade_cost *= 2
    if global.upgrade_water
        upgrade_cost *= 2
    if global.upgrade_wind
        upgrade_cost *= 2
    
    centerx = 1410
    centery = 410
    
    //BACKGROUND CIRCLE
    draw_sprite_ext(spr_button_circle_upgrade , 0 , centerx , centery , 1 , 1 , 10 , c_white, 1)
    
    cdis = 300
    cdir = -90
    
    bw = 280 //320
    
    x1 = centerx + lengthdir_x(cdis , 360 / 3 + cdir) - bw / 2
    y1 = centery + lengthdir_y(cdis , 360 / 3 + cdir ) - bw / 2
    
    if upgrade_selected = 0 //wind
        {
        cicon = 1
        }
    if upgrade_selected = 1 //sun
        {
        cicon = 0
        }
    if upgrade_selected = 2 //water
        {
        cicon = 2
        }
    
    if !selecting_upgrades
    if button_tab(spr_button_yellow,vx+128,vy+vh-96-12,664,96,"PURCHASE UPGRADE",-1,0,"",button_sl,0)
     || (global.jpressed[0,1] &amp;&amp; button_sl = 0)
     if can_click
    //if global.carbon_cash &gt;= upgrade_cost
        {
        if !mouse_check_button(1) &amp;&amp; global.js &gt; 0
            {
            audio_play_sound(snd_button_press,0,0)
            selecting_upgrades = 1
            can_click = 0
            }
        else
        if global.carbon_cash &gt;= upgrade_cost
        if !global.upgrade_sun || !global.upgrade_water || !global.upgrade_wind
            {
            if upgrade_selected = 0 //wind
                {
                cicon = 1
                global.upgrade_wind = 1
                global.carbon_cash -= upgrade_cost
            
                if global.upgrade_sun &amp;&amp; global.upgrade_water
                room = rm_win
                //selecting_upgrades = 0
                }
            if upgrade_selected = 1 //sun
                {
                cicon = 0
                global.upgrade_sun = 1
                global.carbon_cash -= upgrade_cost
            
                if global.upgrade_wind &amp;&amp; global.upgrade_water
                room = rm_win
                //selecting_upgrades = 0
                }
            if upgrade_selected = 2 //water
                {
                cicon = 2
                global.upgrade_water = 1
                global.carbon_cash -= upgrade_cost
                
                if global.upgrade_wind &amp;&amp; global.upgrade_sun
                room = rm_win
                //selecting_upgrades = 0
                }
            }
        }
    
    if !global.upgrade_sun || !global.upgrade_water || !global.upgrade_wind
    if selecting_upgrades
    if global.jpressed[0,1]
        {
        if global.carbon_cash &gt;= upgrade_cost
            {
            if can_click
                {
                can_click = 0
                if upgrade_selected = 0 //wind
                    {
                    cicon = 1
                    global.upgrade_wind = 1
                    global.carbon_cash -= upgrade_cost
                
                    if global.upgrade_sun &amp;&amp; global.upgrade_water
                    room = rm_win
                    //selecting_upgrades = 0
                    }
                if upgrade_selected = 1 //sun
                    {
                    cicon = 0
                    global.upgrade_sun = 1
                    global.carbon_cash -= upgrade_cost
                
                    if global.upgrade_wind &amp;&amp; global.upgrade_water
                    room = rm_win
                    //selecting_upgrades = 0
                    }
                if upgrade_selected = 2 //water
                    {
                    cicon = 2
                    global.upgrade_water = 1
                    global.carbon_cash -= upgrade_cost
                    
                    if global.upgrade_wind &amp;&amp; global.upgrade_sun
                    room = rm_win
                    //selecting_upgrades = 0
                    }
                }    
            }
        else
            {
            audio_play_sound(snd_cant,0,0)
            }
        }
    //upgrade_selected = -1
        
    //WIND    
    if selecting_upgrades || global.js = 0
    if upgrade_selected = 0 &amp;&amp; !global.upgrade_wind
        {
        draw_sprite(spr_upgrade_selector_circle,0,x1+bw/2,y1+bw/2)
        }
    
    if global.upgrade_wind
        {
        //draw_sprite_stretched(spr_wind,4,x1 ,y1 ,bw , bw)
        draw_sprite_stretched(spr_upgrade_circle_button_wind,6,x1 ,y1 ,bw , bw)
        draw_sprite_stretched(spr_wind,0,x1 ,y1 ,bw , bw)
        }
    else //spr_button_circle_upgrade //vxc + 550,vyc - 400
    if button_tab(spr_upgrade_circle_button_wind,x1,y1,bw,bw,"###$"+string(upgrade_cost),spr_wind,0,"",upgrade_selected,0)//spr_wind_sun_water
        {
        upgrade_selected = 0
        cicon_size = 0
        }
    if upgrade_selected = 0
        {
        tstr = "The WIND TURBINE UPPERCUT propels you higher into the air with a powerful punch to blow away enemies and obstacles Press Spacebar or Up Arrow twice to activate"

        //tstr = "Purchase Wind Uppercut Upgrade#$" + string(upgrade_cost) + " Carbon Cash"
        //wind
        //draw_sprite_ext(spr_circle_icons , 1 , centerx , centery , 1 , 1 , 0 , c_white, 1)
        }
    
    x1 = centerx + lengthdir_x(cdis , 360 / 3 * 2 + cdir ) - bw / 2
    y1 = centery + lengthdir_y(cdis , 360 / 3 * 2 + cdir ) - bw / 2
    
    //SUN
    if selecting_upgrades || global.js = 0
    if upgrade_selected = 1 &amp;&amp; !global.upgrade_sun
        {
        draw_sprite(spr_upgrade_selector_circle,0,x1+bw/2,y1+bw/2)
        }
    
    if global.upgrade_sun
        {
        //draw_sprite_stretched(spr_sun,4,x1,y1 ,bw , bw)
        draw_sprite_stretched(spr_upgrade_circle_button_sun,6,x1 ,y1 ,bw , bw)
        draw_sprite_stretched(spr_sun,0,x1 ,y1 ,bw , bw)
        }
    else //vxc + 50,vyc - 400
    if button_tab(spr_upgrade_circle_button_sun,x1,y1,bw,bw,"###$"+string(upgrade_cost),spr_sun,0,"",upgrade_selected,1)
        {
        upgrade_selected = 1
        cicon_size = 0
        }
    if upgrade_selected = 1
        {
        tstr = "The SOLAR SLASH gathers the radiant energy of the sun to launch a projectile to blast away enemies and obstacles. Press X to Activate"
        //tstr = "Purchase Solar Slash Upgrade#$" + string(upgrade_cost) + " Carbon Cash"   
        
        //sun
        //draw_sprite_ext(spr_circle_icons , 0 , centerx , centery , 1 , 1 , 0 , c_white, 1)
        
        }
        
    x1 = centerx + lengthdir_x(cdis , 0 + cdir ) - bw / 2
    y1 = centery + lengthdir_y(cdis , 0 + cdir ) - bw / 2
    
    //WATER
    if selecting_upgrades || global.js = 0
    if upgrade_selected = 2 &amp;&amp; !global.upgrade_sun
        {
        draw_sprite(spr_upgrade_selector_circle,0,x1+bw/2,y1+bw/2)
        }
    
    if global.upgrade_water
        {
        draw_sprite_stretched(spr_upgrade_circle_button_water,6,x1 ,y1 ,bw , bw)
        draw_sprite_stretched(spr_water,0,x1 ,y1 ,bw , bw)
        }
    else //vxc + 300,vyc - 50
    if button_tab(spr_upgrade_circle_button_water,x1,y1,bw,bw,"###$"+string(upgrade_cost),spr_water,0,"",upgrade_selected,2)
        {
        upgrade_selected = 2
        cicon_size = 0
        }
    
    if upgrade_selected = 2
        {
        tstr = "The HYDRO POWER SLIDE harnesses the power of water to wash away enemy monsters and obstacles. Press Z to Activate"
        //tstr = "Purchase Water Slide Upgrade#$" + string(upgrade_cost) + " Carbon Cash"
        //water
        }
    
    if cicon &gt; -1
        {
        cicon_size = adjust(cicon_size , 1)
        }
    else
        {
        cicon_size = adjust(cicon_size , 0)
        }
    
    draw_set_font(fnt_24)
    draw_background(back_text_box_upgrade_room , room_width/4 - 332 - 12,room_height/2 + 260  - 116)
    scr_paragraph(tstr,room_width/4 - 12,room_height/2 + 260,room_width/4,c_black)
    
    if cicon &gt; -1
    if cicon_size &gt; .01
    draw_sprite_ext(spr_circle_icons , cicon , centerx , centery , cicon_size , cicon_size , 0 , c_white, 1)
        
    ccx = room_width * 3 / 4 - 440 - 64
    ccy = room_height * 4 / 5 - 64 - 4
    
    draw_background(back_carbon_cash_bar, ccx, ccy)
    draw_set_halign(fa_center)
    draw_set_valign(fa_center)
    draw_text_outlined(ccx + 133, ccy  + 58, "Carbon Cash:#$"+string(global.carbon_cash),c_black,c_white)
    }

scr_shorter_view_names()


if global.js = 0
draw_sprite(spr_mouse,mouse_check_button(1),mouse_x,mouse_y)

//draw_text(mouse_x,mouse_y+96,"X: "+string(mouse_x)+",Y: "+string(mouse_y))
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
